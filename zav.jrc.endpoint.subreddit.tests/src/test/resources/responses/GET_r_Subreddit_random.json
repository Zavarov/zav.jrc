[
  {
    "kind": "Listing",
    "data": {
      "after": null,
      "dist": 1,
      "modhash": "",
      "geo_filter": "",
      "children": [
        {
          "kind": "t3",
          "data": {
            "approved_at_utc": null,
            "subreddit": "redditdev",
            "selftext": "Here's the base code\n\n    for submission in subreddit.hot(limit=5):\n          title = re.sub(\"[^\\w]\", \"\", submission.title.lower())\n          print(title)\n          if any([trigger in title for trigger in TRIGGERS]):\n            print(\"SPAM DETECTED\\n\")\n            submission.delete()\n\nsubmission.delete() should delete the spammer's message, right?\n\nIf not, what do I use to delete someone else's message?\n\n\\[Edit\\] the bot is a moderator of the sub with full permissions. It's not a problem with permissions.",
            "user_reports": [],
            "saved": false,
            "mod_reason_title": null,
            "gilded": 0,
            "clicked": false,
            "title": "I'm making a reddit bot that deletes spam mesages based on a specific keyword, but for some reason the message doesn't delete.",
            "link_flair_richtext": [],
            "subreddit_name_prefixed": "r/redditdev",
            "hidden": false,
            "pwls": 6,
            "link_flair_css_class": "",
            "downs": 0,
            "top_awarded_type": null,
            "parent_whitelist_status": "all_ads",
            "hide_score": false,
            "name": "t3_ozpxem",
            "quarantine": false,
            "link_flair_text_color": "dark",
            "upvote_ratio": 1,
            "author_flair_background_color": null,
            "subreddit_type": "public",
            "ups": 1,
            "total_awards_received": 0,
            "media_embed": {},
            "author_flair_template_id": null,
            "is_original_content": false,
            "author_fullname": "t2_bnb8ipi2",
            "secure_media": null,
            "is_reddit_media_domain": false,
            "is_meta": false,
            "category": null,
            "secure_media_embed": {},
            "link_flair_text": "PRAW",
            "can_mod_post": false,
            "score": 1,
            "approved_by": null,
            "is_created_from_ads_ui": false,
            "author_premium": false,
            "thumbnail": "",
            "edited": 1628328431,
            "author_flair_css_class": null,
            "author_flair_richtext": [],
            "gildings": {},
            "content_categories": null,
            "is_self": true,
            "mod_note": null,
            "created": 1628326920,
            "link_flair_type": "text",
            "wls": 6,
            "removed_by_category": null,
            "banned_by": null,
            "author_flair_type": "text",
            "domain": "self.redditdev",
            "allow_live_comments": false,
            "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Here&amp;#39;s the base code&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;for submission in subreddit.hot(limit=5):\n      title = re.sub(&amp;quot;[^\\w]&amp;quot;, &amp;quot;&amp;quot;, submission.title.lower())\n      print(title)\n      if any([trigger in title for trigger in TRIGGERS]):\n        print(&amp;quot;SPAM DETECTED\\n&amp;quot;)\n        submission.delete()\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;submission.delete() should delete the spammer&amp;#39;s message, right?&lt;/p&gt;\n\n&lt;p&gt;If not, what do I use to delete someone else&amp;#39;s message?&lt;/p&gt;\n\n&lt;p&gt;[Edit] the bot is a moderator of the sub with full permissions. It&amp;#39;s not a problem with permissions.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;",
            "likes": null,
            "suggested_sort": null,
            "banned_at_utc": null,
            "view_count": null,
            "archived": false,
            "no_follow": true,
            "is_crosspostable": false,
            "pinned": false,
            "over_18": false,
            "all_awardings": [],
            "awarders": [],
            "media_only": false,
            "link_flair_template_id": "49bb3d06-0dad-11e7-b897-0e42c2400b7a",
            "can_gild": false,
            "spoiler": false,
            "locked": false,
            "author_flair_text": null,
            "treatment_tags": [],
            "visited": false,
            "removed_by": null,
            "num_reports": null,
            "distinguished": null,
            "subreddit_id": "t5_2qizd",
            "author_is_blocked": false,
            "mod_reason_by": null,
            "removal_reason": null,
            "link_flair_background_color": "",
            "id": "ozpxem",
            "is_robot_indexable": true,
            "num_duplicates": 0,
            "report_reasons": null,
            "author": "Sauce_Distributor_1",
            "discussion_type": null,
            "num_comments": 4,
            "send_replies": true,
            "media": null,
            "contest_mode": false,
            "author_patreon_flair": false,
            "author_flair_text_color": null,
            "permalink": "/r/redditdev/comments/ozpxem/im_making_a_reddit_bot_that_deletes_spam_mesages/",
            "whitelist_status": "all_ads",
            "stickied": false,
            "url": "https://www.reddit.com/r/redditdev/comments/ozpxem/im_making_a_reddit_bot_that_deletes_spam_mesages/",
            "subreddit_subscribers": 61207,
            "created_utc": 1628326920,
            "num_crossposts": 0,
            "mod_reports": [],
            "is_video": false
          }
        }
      ],
      "before": null
    }
  },
  {
    "kind": "Listing",
    "data": {
      "after": null,
      "dist": null,
      "modhash": "",
      "geo_filter": "",
      "children": [
        {
          "kind": "t1",
          "data": {
            "total_awards_received": 0,
            "approved_at_utc": null,
            "author_is_blocked": false,
            "comment_type": null,
            "awarders": [],
            "mod_reason_by": null,
            "banned_by": null,
            "ups": 4,
            "author_flair_type": "text",
            "removal_reason": null,
            "link_id": "t3_ozpxem",
            "author_flair_template_id": null,
            "likes": null,
            "replies": "",
            "author_fullname": "t2_16iwg5",
            "saved": false,
            "id": "h81myh4",
            "banned_at_utc": null,
            "mod_reason_title": null,
            "gilded": 0,
            "archived": false,
            "collapsed_reason_code": null,
            "no_follow": true,
            "author": "jeypiti",
            "can_mod_post": false,
            "send_replies": true,
            "parent_id": "t3_ozpxem",
            "score": 4,
            "approved_by": null,
            "report_reasons": null,
            "author_premium": true,
            "all_awardings": [],
            "subreddit_id": "t5_2qizd",
            "body": "This seems to be a terminology issue. You can only *delete* your own submissions/comments, what moderators do is *removing* them.\n\n`.delete()` fails in this case because the posts you're acting on are not your own. Instead, you want to do `submission.mod.remove()`.\n\nBut as u/nmtake pointed out, using AutoMod would be simpler and most likely more reliable if you don't need anything beyond regex.\n\nOr even better, you could use post requirements. This lets you ban certain words/phrases from post titles and supports regex too. The user wouldn't even be able to click the submit button if their post title doesn't meet these requirements. You can set this up here: https://new.reddit.com/r/YOUR_SUBREDDIT/about/settings.",
            "edited": false,
            "user_reports": [],
            "author_flair_css_class": null,
            "downs": 0,
            "is_submitter": false,
            "collapsed": false,
            "author_flair_richtext": [],
            "author_patreon_flair": false,
            "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;This seems to be a terminology issue. You can only &lt;em&gt;delete&lt;/em&gt; your own submissions/comments, what moderators do is &lt;em&gt;removing&lt;/em&gt; them.&lt;/p&gt;\n\n&lt;p&gt;&lt;code&gt;.delete()&lt;/code&gt; fails in this case because the posts you&amp;#39;re acting on are not your own. Instead, you want to do &lt;code&gt;submission.mod.remove()&lt;/code&gt;.&lt;/p&gt;\n\n&lt;p&gt;But as &lt;a href=\"/u/nmtake\"&gt;u/nmtake&lt;/a&gt; pointed out, using AutoMod would be simpler and most likely more reliable if you don&amp;#39;t need anything beyond regex.&lt;/p&gt;\n\n&lt;p&gt;Or even better, you could use post requirements. This lets you ban certain words/phrases from post titles and supports regex too. The user wouldn&amp;#39;t even be able to click the submit button if their post title doesn&amp;#39;t meet these requirements. You can set this up here: &lt;a href=\"https://new.reddit.com/r/YOUR_SUBREDDIT/about/settings\"&gt;https://new.reddit.com/r/YOUR_SUBREDDIT/about/settings&lt;/a&gt;.&lt;/p&gt;\n&lt;/div&gt;",
            "gildings": {},
            "collapsed_reason": null,
            "associated_award": null,
            "stickied": false,
            "subreddit_type": "public",
            "can_gild": true,
            "top_awarded_type": null,
            "author_flair_text_color": null,
            "score_hidden": false,
            "permalink": "/r/redditdev/comments/ozpxem/im_making_a_reddit_bot_that_deletes_spam_mesages/h81myh4/",
            "num_reports": null,
            "locked": false,
            "name": "t1_h81myh4",
            "created": 1628335728,
            "subreddit": "redditdev",
            "author_flair_text": null,
            "treatment_tags": [],
            "created_utc": 1628335728,
            "subreddit_name_prefixed": "r/redditdev",
            "controversiality": 0,
            "depth": 0,
            "author_flair_background_color": null,
            "collapsed_because_crowd_control": null,
            "mod_reports": [],
            "mod_note": null,
            "distinguished": null
          }
        },
        {
          "kind": "t1",
          "data": {
            "total_awards_received": 0,
            "approved_at_utc": null,
            "author_is_blocked": false,
            "comment_type": null,
            "awarders": [],
            "mod_reason_by": null,
            "banned_by": null,
            "ups": 1,
            "author_flair_type": "text",
            "removal_reason": null,
            "link_id": "t3_ozpxem",
            "author_flair_template_id": null,
            "likes": null,
            "replies": {
              "kind": "Listing",
              "data": {
                "after": null,
                "dist": null,
                "modhash": "",
                "geo_filter": "",
                "children": [
                  {
                    "kind": "t1",
                    "data": {
                      "total_awards_received": 0,
                      "approved_at_utc": null,
                      "author_is_blocked": false,
                      "comment_type": null,
                      "awarders": [],
                      "mod_reason_by": null,
                      "banned_by": null,
                      "ups": 1,
                      "author_flair_type": "text",
                      "removal_reason": null,
                      "link_id": "t3_ozpxem",
                      "author_flair_template_id": null,
                      "likes": null,
                      "replies": "",
                      "author_fullname": "t2_bnb8ipi2",
                      "saved": false,
                      "id": "h81eesa",
                      "banned_at_utc": null,
                      "mod_reason_title": null,
                      "gilded": 0,
                      "archived": false,
                      "collapsed_reason_code": null,
                      "no_follow": true,
                      "author": "Sauce_Distributor_1",
                      "can_mod_post": false,
                      "send_replies": true,
                      "parent_id": "t1_h81e4k4",
                      "score": 1,
                      "approved_by": null,
                      "report_reasons": null,
                      "author_premium": false,
                      "all_awardings": [],
                      "subreddit_id": "t5_2qizd",
                      "collapsed": false,
                      "body": "yes, they are a moderator with full permissions\n\nis there a different function I use for deleting or marking spam messages as a moderator?",
                      "edited": false,
                      "user_reports": [],
                      "author_flair_css_class": null,
                      "is_submitter": true,
                      "downs": 0,
                      "author_flair_richtext": [],
                      "author_patreon_flair": false,
                      "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;yes, they are a moderator with full permissions&lt;/p&gt;\n\n&lt;p&gt;is there a different function I use for deleting or marking spam messages as a moderator?&lt;/p&gt;\n&lt;/div&gt;",
                      "gildings": {},
                      "collapsed_reason": null,
                      "associated_award": null,
                      "stickied": false,
                      "subreddit_type": "public",
                      "can_gild": true,
                      "top_awarded_type": null,
                      "author_flair_text_color": null,
                      "score_hidden": false,
                      "permalink": "/r/redditdev/comments/ozpxem/im_making_a_reddit_bot_that_deletes_spam_mesages/h81eesa/",
                      "num_reports": null,
                      "locked": false,
                      "name": "t1_h81eesa",
                      "created": 1628328388,
                      "subreddit": "redditdev",
                      "author_flair_text": null,
                      "treatment_tags": [],
                      "created_utc": 1628328388,
                      "subreddit_name_prefixed": "r/redditdev",
                      "controversiality": 0,
                      "depth": 1,
                      "author_flair_background_color": null,
                      "collapsed_because_crowd_control": null,
                      "mod_reports": [],
                      "mod_note": null,
                      "distinguished": null
                    }
                  }
                ],
                "before": null
              }
            },
            "author_fullname": "t2_3cgzi",
            "saved": false,
            "id": "h81e4k4",
            "banned_at_utc": null,
            "mod_reason_title": null,
            "gilded": 0,
            "archived": false,
            "collapsed_reason_code": null,
            "no_follow": true,
            "author": "mynameisperl",
            "can_mod_post": false,
            "send_replies": true,
            "parent_id": "t3_ozpxem",
            "score": 1,
            "approved_by": null,
            "report_reasons": null,
            "author_premium": false,
            "all_awardings": [],
            "subreddit_id": "t5_2qizd",
            "body": "Is the account used by the bot a moderator with appropriate permissions in that subreddit?",
            "edited": false,
            "user_reports": [],
            "author_flair_css_class": null,
            "downs": 0,
            "is_submitter": false,
            "collapsed": false,
            "author_flair_richtext": [],
            "author_patreon_flair": false,
            "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;Is the account used by the bot a moderator with appropriate permissions in that subreddit?&lt;/p&gt;\n&lt;/div&gt;",
            "gildings": {},
            "collapsed_reason": null,
            "associated_award": null,
            "stickied": false,
            "subreddit_type": "public",
            "can_gild": true,
            "top_awarded_type": null,
            "author_flair_text_color": null,
            "score_hidden": false,
            "permalink": "/r/redditdev/comments/ozpxem/im_making_a_reddit_bot_that_deletes_spam_mesages/h81e4k4/",
            "num_reports": null,
            "locked": false,
            "name": "t1_h81e4k4",
            "created": 1628328127,
            "subreddit": "redditdev",
            "author_flair_text": null,
            "treatment_tags": [],
            "created_utc": 1628328127,
            "subreddit_name_prefixed": "r/redditdev",
            "controversiality": 0,
            "depth": 0,
            "author_flair_background_color": null,
            "collapsed_because_crowd_control": null,
            "mod_reports": [],
            "mod_note": null,
            "distinguished": null
          }
        },
        {
          "kind": "t1",
          "data": {
            "total_awards_received": 0,
            "approved_at_utc": null,
            "author_is_blocked": false,
            "comment_type": null,
            "awarders": [],
            "mod_reason_by": null,
            "banned_by": null,
            "ups": 1,
            "author_flair_type": "text",
            "removal_reason": null,
            "link_id": "t3_ozpxem",
            "author_flair_template_id": null,
            "likes": null,
            "replies": "",
            "author_fullname": "t2_ll32z",
            "saved": false,
            "id": "h81i8ef",
            "banned_at_utc": null,
            "mod_reason_title": null,
            "gilded": 0,
            "archived": false,
            "collapsed_reason_code": null,
            "no_follow": true,
            "author": "nmtake",
            "can_mod_post": false,
            "send_replies": true,
            "parent_id": "t3_ozpxem",
            "score": 1,
            "approved_by": null,
            "report_reasons": null,
            "author_premium": false,
            "all_awardings": [],
            "subreddit_id": "t5_2qizd",
            "body": "Check the script actually outputs the \"SPAM DETECTED\" message for the spam and put more debug print like this:\n\n    for submission in subreddit.hot(limit=5):\n        print(submission.title)\n        title = re.sub(\"[^\\w]\", \"\", submission.title.lower())\n        print(title)\n        if any([trigger in title for trigger in TRIGGERS]):\n              print(\"SPAM DETECTED: submission ID: %s\\n\" % submission.id)\n              submission.delete()\n\nFinally, I think Automoderator is preferable for content-based filtering and your script can be implemented with [automod rules](https://www.reddit.com/r/AutoModerator/wiki/library).",
            "edited": false,
            "user_reports": [],
            "author_flair_css_class": null,
            "downs": 0,
            "is_submitter": false,
            "collapsed": false,
            "author_flair_richtext": [],
            "author_patreon_flair": false,
            "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;Check the script actually outputs the &amp;quot;SPAM DETECTED&amp;quot; message for the spam and put more debug print like this:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;for submission in subreddit.hot(limit=5):\n    print(submission.title)\n    title = re.sub(&amp;quot;[^\\w]&amp;quot;, &amp;quot;&amp;quot;, submission.title.lower())\n    print(title)\n    if any([trigger in title for trigger in TRIGGERS]):\n          print(&amp;quot;SPAM DETECTED: submission ID: %s\\n&amp;quot; % submission.id)\n          submission.delete()\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Finally, I think Automoderator is preferable for content-based filtering and your script can be implemented with &lt;a href=\"https://www.reddit.com/r/AutoModerator/wiki/library\"&gt;automod rules&lt;/a&gt;.&lt;/p&gt;\n&lt;/div&gt;",
            "gildings": {},
            "collapsed_reason": null,
            "associated_award": null,
            "stickied": false,
            "subreddit_type": "public",
            "can_gild": true,
            "top_awarded_type": null,
            "author_flair_text_color": null,
            "score_hidden": false,
            "permalink": "/r/redditdev/comments/ozpxem/im_making_a_reddit_bot_that_deletes_spam_mesages/h81i8ef/",
            "num_reports": null,
            "locked": false,
            "name": "t1_h81i8ef",
            "created": 1628331815,
            "subreddit": "redditdev",
            "author_flair_text": null,
            "treatment_tags": [],
            "created_utc": 1628331815,
            "subreddit_name_prefixed": "r/redditdev",
            "controversiality": 0,
            "depth": 0,
            "author_flair_background_color": null,
            "collapsed_because_crowd_control": null,
            "mod_reports": [],
            "mod_note": null,
            "distinguished": null
          }
        }
      ],
      "before": null
    }
  }
]