[
  {
    "data": {
      "modhash": null,
      "children": [{
        "data": {
          "secure_media": null,
          "saved": false,
          "hide_score": false,
          "total_awards_received": 1,
          "subreddit_id": "t5_2qizd",
          "score": 38,
          "num_comments": 44,
          "mod_reason_title": null,
          "whitelist_status": "all_ads",
          "removed_by": null,
          "spoiler": false,
          "id": "kvzaot",
          "created_utc": 1.610481416E9,
          "link_flair_template_id": "c4edd5ce-40e8-11e7-b814-0ef91bd65558",
          "banned_at_utc": null,
          "discussion_type": null,
          "edited": 1.610636014E9,
          "allow_live_comments": false,
          "author_flair_background_color": null,
          "approved_by": null,
          "media_embed": {},
          "top_awarded_type": null,
          "domain": "self.redditdev",
          "approved_at_utc": null,
          "no_follow": false,
          "num_duplicates": 1,
          "ups": 38,
          "author_flair_type": "text",
          "permalink": "/r/redditdev/comments/kvzaot/oauth2_api_changes_upcoming/",
          "content_categories": null,
          "wls": 6,
          "author_flair_css_class": null,
          "mod_reports": [],
          "gilded": 0,
          "removal_reason": null,
          "send_replies": true,
          "archived": false,
          "author_flair_text_color": null,
          "can_mod_post": false,
          "is_self": true,
          "link_flair_css_class": "",
          "author_fullname": "t2_4pn6u5oy",
          "selftext":  "bla bla bla OAuth2 bla bla bla Modernizing",
          "upvote_ratio": 0.86,
          "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;bla bla bla OAuth2 bla bla bla Modernizing&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;",

          "user_reports": [],
          "is_crosspostable": true,
          "clicked": false,
          "author_flair_template_id": null,
          "url": "https://www.reddit.com/r/redditdev/comments/kvzaot/oauth2_api_changes_upcoming/",
          "parent_whitelist_status": "all_ads",
          "stickied": true,
          "quarantine": false,
          "view_count": null,
          "link_flair_richtext": [],
          "link_flair_background_color": "",
          "author_flair_richtext": [],
          "over_18": false,
          "subreddit": "redditdev",
          "suggested_sort": null,
          "can_gild": true,
          "is_robot_indexable": true,
          "author_premium": false,
          "locked": false,
          "likes": null,
          "thumbnail": "self",
          "downs": 0,
          "created": 1.610510216E9,
          "author": "securimancer",
          "treatment_tags": [],
          "link_flair_text_color": "dark",
          "gildings": {"gid_1": 1},
          "report_reasons": null,
          "is_video": false,
          "is_original_content": false,
          "subreddit_name_prefixed": "r/redditdev",
          "mod_reason_by": null,
          "name": "t3_kvzaot",
          "awarders": [],
          "media_only": false,
          "num_reports": null,
          "pinned": false,
          "hidden": false,
          "author_patreon_flair": false,
          "mod_note": null,
          "media": null,
          "title": "OAuth2 API Changes Upcoming",
          "author_flair_text": null,
          "num_crossposts": 1,
          "thumbnail_width": null,
          "secure_media_embed": {},
          "link_flair_text": "Reddit API",
          "subreddit_type": "public",
          "is_meta": false,
          "subreddit_subscribers": 50361,
          "distinguished": "admin",
          "removed_by_category": null,
          "thumbnail_height": null,
          "link_flair_type": "text",
          "all_awardings": [{
            "icon_width": 512,
            "end_date": null,
            "award_sub_type": "GLOBAL",
            "days_of_drip_extension": 0,
            "coin_reward": 0,
            "description": "Shows the Silver Award... and that's it.",
            "tiers_by_required_awardings": null,
            "awardings_required_to_grant_benefits": null,
            "resized_icons": [
              {
                "width": 16,
                "url": "https://www.redditstatic.com/gold/awards/icon/silver_16.png",
                "height": 16
              },
              {
                "width": 32,
                "url": "https://www.redditstatic.com/gold/awards/icon/silver_32.png",
                "height": 32
              },
              {
                "width": 48,
                "url": "https://www.redditstatic.com/gold/awards/icon/silver_48.png",
                "height": 48
              },
              {
                "width": 64,
                "url": "https://www.redditstatic.com/gold/awards/icon/silver_64.png",
                "height": 64
              },
              {
                "width": 128,
                "url": "https://www.redditstatic.com/gold/awards/icon/silver_128.png",
                "height": 128
              }
            ],
            "coin_price": 100,
            "subreddit_coin_reward": 0,
            "icon_format": null,
            "award_type": "global",
            "static_icon_url": "https://www.redditstatic.com/gold/awards/icon/silver_512.png",
            "subreddit_id": null,
            "is_enabled": true,
            "penny_price": null,
            "penny_donate": null,
            "static_icon_height": 512,
            "id": "gid_1",
            "days_of_premium": 0,
            "start_date": null,
            "icon_url": "https://www.redditstatic.com/gold/awards/icon/silver_512.png",
            "is_new": false,
            "icon_height": 512,
            "static_icon_width": 512,
            "count": 1,
            "resized_static_icons": [
              {
                "width": 16,
                "url": "https://www.redditstatic.com/gold/awards/icon/silver_16.png",
                "height": 16
              },
              {
                "width": 32,
                "url": "https://www.redditstatic.com/gold/awards/icon/silver_32.png",
                "height": 32
              },
              {
                "width": 48,
                "url": "https://www.redditstatic.com/gold/awards/icon/silver_48.png",
                "height": 48
              },
              {
                "width": 64,
                "url": "https://www.redditstatic.com/gold/awards/icon/silver_64.png",
                "height": 64
              },
              {
                "width": 128,
                "url": "https://www.redditstatic.com/gold/awards/icon/silver_128.png",
                "height": 128
              }
            ],
            "giver_coin_reward": null,
            "name": "Silver"
          }],
          "visited": false,
          "pwls": 6,
          "category": null,
          "banned_by": null,
          "contest_mode": false,
          "is_reddit_media_domain": false
        },
        "kind": "t3"
      }],
      "before": null,
      "dist": 1,
      "after": null
    },
    "kind": "Listing"
  },
  {
    "data": {
      "modhash": null,
      "children": [{
        "data": {
          "secure_media": null,
          "saved": false,
          "hide_score": false,
          "total_awards_received": 0,
          "subreddit_id": "t5_3qqsfs",
          "score": 1,
          "num_comments": 0,
          "mod_reason_title": null,
          "whitelist_status": null,
          "removed_by": null,
          "spoiler": false,
          "id": "kzpca1",
          "created_utc": 1.610952691E9,
          "banned_at_utc": null,
          "discussion_type": null,
          "edited": false,
          "allow_live_comments": true,
          "author_flair_background_color": null,
          "approved_by": null,
          "media_embed": {},
          "top_awarded_type": null,
          "domain": "self.redditdev",
          "approved_at_utc": null,
          "no_follow": true,
          "ups": 1,
          "author_flair_type": "text",
          "permalink": "/r/u_Leading-Foundation12/comments/kzpca1/0auth/",
          "content_categories": null,
          "wls": null,
          "author_flair_css_class": null,
          "mod_reports": [],
          "gilded": 0,
          "removal_reason": null,
          "send_replies": true,
          "crosspost_parent": "t3_kvzaot",
          "archived": false,
          "author_flair_text_color": null,
          "can_mod_post": false,
          "is_self": false,
          "author_fullname": "t2_9vff11jo",
          "link_flair_css_class": null,
          "selftext": "",
          "upvote_ratio": 1,
          "selftext_html": null,
          "crosspost_parent_list": [{
            "secure_media": null,
            "saved": false,
            "hide_score": false,
            "total_awards_received": 1,
            "subreddit_id": "t5_2qizd",
            "score": 37,
            "num_comments": 44,
            "mod_reason_title": null,
            "whitelist_status": "all_ads",
            "removed_by": null,
            "spoiler": false,
            "id": "kvzaot",
            "created_utc": 1.610481416E9,
            "link_flair_template_id": "c4edd5ce-40e8-11e7-b814-0ef91bd65558",
            "banned_at_utc": null,
            "discussion_type": null,
            "edited": 1.610636014E9,
            "allow_live_comments": false,
            "author_flair_background_color": null,
            "approved_by": null,
            "media_embed": {},
            "top_awarded_type": null,
            "domain": "self.redditdev",
            "approved_at_utc": null,
            "no_follow": false,
            "ups": 37,
            "author_flair_type": "text",
            "permalink": "/r/redditdev/comments/kvzaot/oauth2_api_changes_upcoming/",
            "content_categories": null,
            "wls": 6,
            "author_flair_css_class": null,
            "mod_reports": [],
            "gilded": 0,
            "removal_reason": null,
            "send_replies": true,
            "archived": false,
            "author_flair_text_color": null,
            "can_mod_post": false,
            "is_self": true,
            "author_fullname": "t2_4pn6u5oy",
            "link_flair_css_class": "",
            "selftext": "As part of modernizing our OAuth2 infrastructure, we\u2019re implementing some potentially breaking changes to our OAuth2 flow as outlined below on February 15, 2021.\n\n# Refresh Token Changes\n\nWhen executing our refresh token flow, we currently only send back an access token in the response. Responses to `/api/v1/access_token` with `grant_type=refresh_token` looked like:\n\n    {\n    \"access_token\": \"your access token\",\n    \"token_type\": \"bearer\",\n    \"expires_in\": 3600,\n    \"scope\": \"your scopes\"\n    }\n\nThis meant that the refresh token you get during the authorization code flow can be reused indefinitely. Going forward, our **response will also include a brand new refresh token** (as allowed by the [RFC spec](https://tools.ietf.org/html/rfc6749#section-4.1)).\n\n    {\n    \"access_token\": \"your access token\",\n    \"token_type\": \"bearer\",\n    \"expires_in\": 3600,\n    \"refresh_token\": \"your new refresh token\",\n    \"scope\": \"your scopes\"\n    }\n\nSince some OAuth2 client implementations might not handle this scenario (whereas [PRAW](https://github.com/praw-dev/prawcore/blob/1db01c55ba4e94084206fb2e01bb6a6e62f998ff/prawcore/auth.py#L164-L165) does, for example), we\u2019re **not immediately enforcing revocation of the consumed refresh token**. We\u2019re looking to enforce this **starting in Q2 2021**, given there aren't significant numbers of OAuth2 clients misbehaving after the change.\n\nAlso note that all refresh tokens previously had no expiration. We're going to start enforcing a **1 year expiration on refresh tokens** to help curb Reddit's storage for refresh tokens (we've got a lot of them).\n\n# Authorization Code Reuse\n\nWhen executing our authorization code flow, we consume the auth code in exchange for an access token. If, within an auth code's 10 minute TTL, that **same auth code is attempted to be used again, we will revoke any tokens issued** with said auth code, per [RFC spec](https://tools.ietf.org/html/rfc6749#section-4.1.2) . This should be unnoticeable to well-behaved clients; however, instead of harmlessly failing, we will now be revoking any access or refresh tokens issued with that auth code.\n\n# Redirect URI Fix Fragments\n\nThe last, but likely least impactful, change we're implementing is **adding a \"fix fragment\"** `#_` to **the end of the redirect URI** in the `Location` header in response to a `POST` request to `/api/v1/authorize`. This should be transparent as browsers and url parsers should drop the fragment when redirecting.\n\nEdit 1: clarified Reddit's storage of refresh tokens. \n\nEdit 2: Adding a note about potential network connectivity / cosmic rays breaking the refresh token flow. As it stands now, we're including a 2 retries leeway to account for any miscommunication in this process starting Q2 2021. E.g.,. you can send the same refresh token 3 times before it is irrevocably revoked. ",
            "upvote_ratio": 0.86,
            "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;As part of modernizing our OAuth2 infrastructure, we\u2019re implementing some potentially breaking changes to our OAuth2 flow as outlined below on February 15, 2021.&lt;/p&gt;\n\n&lt;h1&gt;Refresh Token Changes&lt;/h1&gt;\n\n&lt;p&gt;When executing our refresh token flow, we currently only send back an access token in the response. Responses to &lt;code&gt;/api/v1/access_token&lt;/code&gt; with &lt;code&gt;grant_type=refresh_token&lt;/code&gt; looked like:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;{\n&amp;quot;access_token&amp;quot;: &amp;quot;your access token&amp;quot;,\n&amp;quot;token_type&amp;quot;: &amp;quot;bearer&amp;quot;,\n&amp;quot;expires_in&amp;quot;: 3600,\n&amp;quot;scope&amp;quot;: &amp;quot;your scopes&amp;quot;\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;This meant that the refresh token you get during the authorization code flow can be reused indefinitely. Going forward, our &lt;strong&gt;response will also include a brand new refresh token&lt;/strong&gt; (as allowed by the &lt;a href=\"https://tools.ietf.org/html/rfc6749#section-4.1\"&gt;RFC spec&lt;/a&gt;).&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;{\n&amp;quot;access_token&amp;quot;: &amp;quot;your access token&amp;quot;,\n&amp;quot;token_type&amp;quot;: &amp;quot;bearer&amp;quot;,\n&amp;quot;expires_in&amp;quot;: 3600,\n&amp;quot;refresh_token&amp;quot;: &amp;quot;your new refresh token&amp;quot;,\n&amp;quot;scope&amp;quot;: &amp;quot;your scopes&amp;quot;\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Since some OAuth2 client implementations might not handle this scenario (whereas &lt;a href=\"https://github.com/praw-dev/prawcore/blob/1db01c55ba4e94084206fb2e01bb6a6e62f998ff/prawcore/auth.py#L164-L165\"&gt;PRAW&lt;/a&gt; does, for example), we\u2019re &lt;strong&gt;not immediately enforcing revocation of the consumed refresh token&lt;/strong&gt;. We\u2019re looking to enforce this &lt;strong&gt;starting in Q2 2021&lt;/strong&gt;, given there aren&amp;#39;t significant numbers of OAuth2 clients misbehaving after the change.&lt;/p&gt;\n\n&lt;p&gt;Also note that all refresh tokens previously had no expiration. We&amp;#39;re going to start enforcing a &lt;strong&gt;1 year expiration on refresh tokens&lt;/strong&gt; to help curb Reddit&amp;#39;s storage for refresh tokens (we&amp;#39;ve got a lot of them).&lt;/p&gt;\n\n&lt;h1&gt;Authorization Code Reuse&lt;/h1&gt;\n\n&lt;p&gt;When executing our authorization code flow, we consume the auth code in exchange for an access token. If, within an auth code&amp;#39;s 10 minute TTL, that &lt;strong&gt;same auth code is attempted to be used again, we will revoke any tokens issued&lt;/strong&gt; with said auth code, per &lt;a href=\"https://tools.ietf.org/html/rfc6749#section-4.1.2\"&gt;RFC spec&lt;/a&gt; . This should be unnoticeable to well-behaved clients; however, instead of harmlessly failing, we will now be revoking any access or refresh tokens issued with that auth code.&lt;/p&gt;\n\n&lt;h1&gt;Redirect URI Fix Fragments&lt;/h1&gt;\n\n&lt;p&gt;The last, but likely least impactful, change we&amp;#39;re implementing is &lt;strong&gt;adding a &amp;quot;fix fragment&amp;quot;&lt;/strong&gt; &lt;code&gt;#_&lt;/code&gt; to &lt;strong&gt;the end of the redirect URI&lt;/strong&gt; in the &lt;code&gt;Location&lt;/code&gt; header in response to a &lt;code&gt;POST&lt;/code&gt; request to &lt;code&gt;/api/v1/authorize&lt;/code&gt;. This should be transparent as browsers and url parsers should drop the fragment when redirecting.&lt;/p&gt;\n\n&lt;p&gt;Edit 1: clarified Reddit&amp;#39;s storage of refresh tokens. &lt;/p&gt;\n\n&lt;p&gt;Edit 2: Adding a note about potential network connectivity / cosmic rays breaking the refresh token flow. As it stands now, we&amp;#39;re including a 2 retries leeway to account for any miscommunication in this process starting Q2 2021. E.g.,. you can send the same refresh token 3 times before it is irrevocably revoked. &lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;",
            "user_reports": [],
            "is_crosspostable": true,
            "clicked": false,
            "author_flair_template_id": null,
            "url": "https://www.reddit.com/r/redditdev/comments/kvzaot/oauth2_api_changes_upcoming/",
            "parent_whitelist_status": "all_ads",
            "stickied": true,
            "quarantine": false,
            "view_count": null,
            "link_flair_richtext": [],
            "link_flair_background_color": "",
            "author_flair_richtext": [],
            "over_18": false,
            "subreddit": "redditdev",
            "suggested_sort": null,
            "can_gild": true,
            "is_robot_indexable": true,
            "author_premium": false,
            "locked": false,
            "likes": null,
            "thumbnail": "self",
            "downs": 0,
            "created": 1.610510216E9,
            "author": "securimancer",
            "treatment_tags": [],
            "link_flair_text_color": "dark",
            "gildings": {"gid_1": 1},
            "report_reasons": null,
            "is_video": false,
            "is_original_content": false,
            "subreddit_name_prefixed": "r/redditdev",
            "mod_reason_by": null,
            "name": "t3_kvzaot",
            "awarders": [],
            "media_only": false,
            "num_reports": null,
            "pinned": false,
            "hidden": false,
            "author_patreon_flair": false,
            "mod_note": null,
            "media": null,
            "title": "OAuth2 API Changes Upcoming",
            "author_flair_text": null,
            "num_crossposts": 1,
            "thumbnail_width": null,
            "secure_media_embed": {},
            "link_flair_text": "Reddit API",
            "subreddit_type": "public",
            "is_meta": false,
            "subreddit_subscribers": 50361,
            "distinguished": "admin",
            "removed_by_category": null,
            "thumbnail_height": null,
            "link_flair_type": "text",
            "all_awardings": [{
              "icon_width": 512,
              "end_date": null,
              "award_sub_type": "GLOBAL",
              "days_of_drip_extension": 0,
              "coin_reward": 0,
              "description": "Shows the Silver Award... and that's it.",
              "tiers_by_required_awardings": null,
              "awardings_required_to_grant_benefits": null,
              "resized_icons": [
                {
                  "width": 16,
                  "url": "https://www.redditstatic.com/gold/awards/icon/silver_16.png",
                  "height": 16
                },
                {
                  "width": 32,
                  "url": "https://www.redditstatic.com/gold/awards/icon/silver_32.png",
                  "height": 32
                },
                {
                  "width": 48,
                  "url": "https://www.redditstatic.com/gold/awards/icon/silver_48.png",
                  "height": 48
                },
                {
                  "width": 64,
                  "url": "https://www.redditstatic.com/gold/awards/icon/silver_64.png",
                  "height": 64
                },
                {
                  "width": 128,
                  "url": "https://www.redditstatic.com/gold/awards/icon/silver_128.png",
                  "height": 128
                }
              ],
              "coin_price": 100,
              "subreddit_coin_reward": 0,
              "icon_format": null,
              "award_type": "global",
              "static_icon_url": "https://www.redditstatic.com/gold/awards/icon/silver_512.png",
              "subreddit_id": null,
              "is_enabled": true,
              "penny_price": null,
              "penny_donate": null,
              "static_icon_height": 512,
              "id": "gid_1",
              "days_of_premium": 0,
              "start_date": null,
              "icon_url": "https://www.redditstatic.com/gold/awards/icon/silver_512.png",
              "is_new": false,
              "icon_height": 512,
              "static_icon_width": 512,
              "count": 1,
              "resized_static_icons": [
                {
                  "width": 16,
                  "url": "https://www.redditstatic.com/gold/awards/icon/silver_16.png",
                  "height": 16
                },
                {
                  "width": 32,
                  "url": "https://www.redditstatic.com/gold/awards/icon/silver_32.png",
                  "height": 32
                },
                {
                  "width": 48,
                  "url": "https://www.redditstatic.com/gold/awards/icon/silver_48.png",
                  "height": 48
                },
                {
                  "width": 64,
                  "url": "https://www.redditstatic.com/gold/awards/icon/silver_64.png",
                  "height": 64
                },
                {
                  "width": 128,
                  "url": "https://www.redditstatic.com/gold/awards/icon/silver_128.png",
                  "height": 128
                }
              ],
              "giver_coin_reward": null,
              "name": "Silver"
            }],
            "visited": false,
            "pwls": 6,
            "category": null,
            "banned_by": null,
            "contest_mode": false,
            "is_reddit_media_domain": false
          }],
          "user_reports": [],
          "is_crosspostable": true,
          "clicked": false,
          "author_flair_template_id": null,
          "url": "/r/redditdev/comments/kvzaot/oauth2_api_changes_upcoming/",
          "url_overridden_by_dest": "/r/redditdev/comments/kvzaot/oauth2_api_changes_upcoming/",
          "parent_whitelist_status": null,
          "stickied": false,
          "quarantine": false,
          "view_count": null,
          "link_flair_richtext": [],
          "link_flair_background_color": "",
          "author_flair_richtext": [],
          "over_18": true,
          "subreddit": "u_Leading-Foundation12",
          "suggested_sort": "qa",
          "can_gild": true,
          "is_robot_indexable": true,
          "author_premium": false,
          "locked": false,
          "likes": null,
          "thumbnail": "nsfw",
          "downs": 0,
          "created": 1.610981491E9,
          "author": "Leading-Foundation12",
          "treatment_tags": [],
          "link_flair_text_color": "dark",
          "gildings": {},
          "report_reasons": null,
          "is_video": false,
          "is_original_content": false,
          "subreddit_name_prefixed": "u/Leading-Foundation12",
          "mod_reason_by": null,
          "name": "t3_kzpca1",
          "awarders": [],
          "media_only": false,
          "num_reports": null,
          "pinned": false,
          "hidden": false,
          "author_patreon_flair": false,
          "mod_note": null,
          "media": null,
          "title": "0Auth",
          "author_flair_text": null,
          "num_crossposts": 0,
          "thumbnail_width": null,
          "secure_media_embed": {},
          "link_flair_text": null,
          "subreddit_type": "user",
          "is_meta": false,
          "subreddit_subscribers": 0,
          "distinguished": null,
          "removed_by_category": null,
          "thumbnail_height": null,
          "link_flair_type": "text",
          "all_awardings": [],
          "visited": false,
          "pwls": null,
          "category": null,
          "banned_by": null,
          "contest_mode": false,
          "is_reddit_media_domain": false
        },
        "kind": "t3"
      }],
      "before": null,
      "dist": 1,
      "after": null
    },
    "kind": "Listing"
  }
]